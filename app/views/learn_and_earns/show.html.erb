<% content_for :title, "Showing Learn & Earn Entry" %>

<body class="bg-black text-blue-400">
  <div class="min-h-screen flex items-center justify-center px-4 py-12">
    <div class="w-full max-w-3xl bg-gray-900/60 backdrop-blur-lg border border-blue-500 rounded-2xl shadow-2xl p-8 text-blue-100">

      <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-blue-400 mb-10">Your Learn & Earn Details</h1>

      <%= render @learn_and_earn %>

      <% if current_user.admin? %>
        <div class="mt-10 flex flex-col sm:flex-row justify-center gap-4">
          <%= link_to "Edit This Entry",
              edit_learn_and_earn_path(@learn_and_earn),
              class: "w-full sm:w-auto text-center bg-blue-700 hover:bg-blue-800 text-white font-semibold rounded-lg px-6 py-3 shadow transition duration-150" %>

          <%= link_to "Back to All Entries",
              learn_and_earns_path,
              class: "w-full sm:w-auto text-center bg-gray-800 hover:bg-gray-700 text-blue-300 font-semibold rounded-lg px-6 py-3 shadow transition duration-150" %>

<%= button_to "Delete This Entry",
    @learn_and_earn,
    method: :delete,
    form: { data: { turbo_confirm: "Are you sure you want to permanently delete this Learn & Earn entry? This action cannot be undone." } },
    form_class: "sm:inline",
    class: "w-full sm:w-auto text-center bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg px-6 py-3 shadow transition duration-150" %>
        </div>
      <% end %>

    </div>
  </div>
  <!-- Delete Button Enhancement -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Delete Button Enhancement
      document.body.addEventListener('submit', (event) => {
        const form = event.target;
        if (form.dataset.turboConfirm) {
          const submitButton = form.querySelector('input[type="submit"], button[type="submit"]');
          if (submitButton) {
            submitButton.disabled = true;
            submitButton.value = submitButton.value || submitButton.textContent;
            submitButton.textContent = "Deleting...";
          }
        }
      });
    });
  </script>
</body>
